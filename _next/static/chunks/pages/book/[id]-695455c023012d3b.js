(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[826],{33126:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/book/[id]",function(){return c(63378)}])},3396:function(a,b,c){"use strict";var d=c(85893),e=c(10151),f=c.n(e),g=c(25935),h=function(a){var b=a.description;return(0,d.jsx)("div",{className:f().description,children:(0,g.ZP)(b)})};b.Z=h},96764:function(a,b,c){"use strict";c.d(b,{Z:function(){return r}});var d=c(14924),e=c(85893),f=c(60273),g=c.n(f),h=c(25675),i=c.n(h),j=c(41664),k=c.n(j),l=c(82185),m=function(a){var b=a.item,c=b.link,d=b.poster,f=b.title,h=b.subtitle,j=a.type;return(0,e.jsx)(k(),{href:"book"===(void 0===j?"book":j)?(0,l.dd)(c):(0,l.M_)(c),children:(0,e.jsxs)("a",{className:g().item,children:[(0,e.jsx)("div",{className:g().poster,children:(0,e.jsx)(i(),{alt:f,src:d,objectFit:"cover",draggable:!1,priority:!0,width:150,height:220,className:g().image})}),(0,e.jsxs)("div",{className:g().content,children:[(0,e.jsx)("div",{className:g().title,children:f}),(0,e.jsx)("div",{className:g().subtitle,children:h})]})]})})},n=m,o=c(94184),p=c.n(o),q=function(a){var b,c=a.gallery,f=a.direction,h=a.type;return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:p()((b={},(0,d.Z)(b,g().gallery,"horizontal"===f),(0,d.Z)(b,g().gallery_vertical,"vertical"===f),b)),children:c.map(function(a){return(0,e.jsx)(n,{item:a,type:h},a.title)})})})},r=q},10209:function(a,b,c){"use strict";c.d(b,{X:function(){return g}});var d=c(85893),e=c(44271),f=c.n(e),g=function(a){var b=a.title;return(0,d.jsx)("h1",{className:f().heading,children:b})}},35384:function(a,b,c){"use strict";var d=c(85893),e=c(44271),f=c.n(e),g=function(a){var b=a.title;return(0,d.jsx)("div",{className:f().subtitle,children:b})};b.Z=g},63378:function(a,b,c){"use strict";c.r(b),c.d(b,{"__N_SSG":function(){return S},default:function(){return T}});var d=c(85893),e=c(3396),f=c(96764),g=c(10209),h=c(35384),i=c(10665),j=c(47568),k=c(34051),l=c.n(k),m=c(25675),n=c.n(m),o=c(41664),p=c.n(o),q=c(11163),r=c(82185),s=c(31888),t=c(25813),u=c(77567),v=c(14924),w=c(30411),x=c.n(w),y=c(94184),z=c.n(y),A=c(26042),B=c(69396),C=c(828),D=c(29815),E=c(88506),F=c(5328),G=function(a){var b,c=a.userRedux,d=(0,C.Z)((0,F.kD)(),1)[0],e=(0,F.Jx)(c._id).data,f=(0,E.T)().update;return{handleFavoriteBook:(b=(0,j.Z)(l().mark(function a(b,g){return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(b&&e)){a.next=6;break}return a.next=3,d({id:e.id,user:(0,B.Z)((0,A.Z)({},e),{user:(0,B.Z)((0,A.Z)({},c),{favoriteBooks:e.user.favoriteBooks.filter(function(a){return a!==g})})})});case 3:f({id:e.id}),a.next=10;break;case 6:if(!(!b&&e)){a.next=10;break}return a.next=9,d({id:e.id,user:(0,B.Z)((0,A.Z)({},e),{user:(0,B.Z)((0,A.Z)({},c),{favoriteBooks:(0,D.Z)(e.user.favoriteBooks).concat([g])})})});case 9:f({id:e.id});case 10:case"end":return a.stop()}},a)})),function(a,c){return b.apply(this,arguments)})}},H=function(a){var b,c=a.user,e=a.bookId,f=G({userRedux:c,bookId:e}).handleFavoriteBook,g=c.favoriteBooks.includes(e);return(0,d.jsx)("div",{className:x().button,children:(0,d.jsx)("button",{onClick:function(){return f(g,e)},className:z()(x().heart,(b={},(0,v.Z)(b,x().favorite,g),(0,v.Z)(b,x().not_favorite,!g),b)),children:(0,d.jsx)(u.P,{name:"MdFavorite"})})})},I=H,J=c(49714),K=c.n(J),L=function(a){var b,c=a.book,e=(0,s.C)(function(a){return a.users}).user,f=(0,q.useRouter)(),g=f.push,h=f.query,i=(b=(0,j.Z)(l().mark(function a(b){var c;return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$x.getAuthorByTitle(b);case 2:c=a.sent,g((0,r.M_)(c.id));case 4:case"end":return a.stop()}},a)})),function(a){return b.apply(this,arguments)});return(0,d.jsxs)("div",{className:K().details,children:[(0,d.jsx)("div",{className:K().image,children:(0,d.jsx)(n(),{src:c.poster,alt:c.title,width:180,height:250,draggable:!1,unoptimized:!0,priority:!0,objectFit:"cover",className:K().poster})}),(0,d.jsxs)("div",{className:K().characteristics,children:[(0,d.jsx)("a",{className:K().author,onClick:function(){return i(c.author)},children:c.author}),e&&(0,d.jsx)("div",{className:K().favorite,children:(0,d.jsx)(I,{user:e,bookId:String(h.id)})}),(0,d.jsx)(p(),{href:(0,r.i8)(c.genre),children:(0,d.jsx)("a",{className:K().genre,children:c.genre})}),(0,d.jsxs)("div",{className:K().rating,children:[(0,d.jsx)("div",{className:K().star,children:(0,d.jsx)(u.P,{name:"MdStar"})}),c.rating]})]})]})},M=L,N=c(65770),O=c.n(N),P=function(a){var b=a.similarBooks,c=a.book;return(0,d.jsx)("div",{className:O().single_book,children:(0,d.jsxs)(i.Z,{title:c.title,children:[(0,d.jsx)(g.X,{title:c.title}),(0,d.jsx)(M,{book:c}),(0,d.jsx)(e.Z,{description:c.description}),0!==b.length&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h.Z,{title:"Similar"}),(0,d.jsx)(f.Z,{direction:"horizontal",gallery:b})]})]})})},Q=P,R=function(a){var b=a.book,c=a.similarBooks;return(0,d.jsx)(Q,{book:b,similarBooks:c})},S=!0,T=R},10151:function(a){a.exports={layout:"Description_layout__ElfFX",center:"Description_center__WNZ4s",description:"Description_description__jlEKP"}},60273:function(a){a.exports={layout:"Gallery_layout__xXJSR",center:"Gallery_center__ui2Kw",gallery:"Gallery_gallery__d8hAE",gallery_vertical:"Gallery_gallery_vertical__CFu2g",item:"Gallery_item__nAngM",poster:"Gallery_poster__gbvuq",image:"Gallery_image__2vOMK",content:"Gallery_content__0msB2",title:"Gallery_title__ShWdR",subtitle:"Gallery_subtitle__VGr1_"}},44271:function(a){a.exports={layout:"Header_layout__Ts6Zb",center:"Header_center__0lhK_",heading:"Header_heading__ec6KN",subtitle:"Header_subtitle__8dujB"}},49714:function(a){a.exports={layout:"Details_layout___MHYB",center:"Details_center__LQVDQ",details:"Details_details__fzLUD",image:"Details_image__E8RK1",poster:"Details_poster__9vzxb",characteristics:"Details_characteristics__gUYO0",favorite:"Details_favorite__fj3BM",author:"Details_author__2_Gvb",genre:"Details_genre__KeEnj",rating:"Details_rating__rmzE9",star:"Details_star__v58Bh"}},30411:function(a){a.exports={layout:"FavoriteButton_layout__5XhVh",center:"FavoriteButton_center__q1kxO",button:"FavoriteButton_button__eGJVj",heart:"FavoriteButton_heart__Rm9lD",heartbeat:"FavoriteButton_heartbeat__m7vEg",favorite:"FavoriteButton_favorite__hPgRt",not_favorite:"FavoriteButton_not_favorite__Eoe6x"}},65770:function(a){a.exports={single_book:"SingleBook_single_book__UYpRp"}},20943:function(a,b,c){"use strict";function d(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}c.d(b,{Z:function(){return d}})},13375:function(a,b,c){"use strict";function d(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}c.d(b,{Z:function(){return d}})},828:function(a,b,c){"use strict";c.d(b,{Z:function(){return f}});var d=c(13375),e=c(91566);function f(a,b){return function(a){if(Array.isArray(a))return a}(a)||(0,d.Z)(a,b)||(0,e.Z)(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},29815:function(a,b,c){"use strict";c.d(b,{Z:function(){return g}});var d=c(20943),e=c(13375),f=c(91566);function g(a){return function(a){if(Array.isArray(a))return(0,d.Z)(a)}(a)||(0,e.Z)(a)||(0,f.Z)(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},91566:function(a,b,c){"use strict";c.d(b,{Z:function(){return e}});var d=c(20943);function e(a,b){if(a){if("string"==typeof a)return(0,d.Z)(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return(0,d.Z)(a,b)}}}},function(a){a.O(0,[935,774,888,179],function(){var b;return a(a.s=33126)}),_N_E=a.O()}])