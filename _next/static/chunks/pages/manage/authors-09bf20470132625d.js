(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{99063:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage/authors",function(){return c(69892)}])},74713:function(a,b,c){"use strict";c.d(b,{w:function(){return p}});var d=c(85893),e=c(7085),f=c.n(e),g=c(14924),h=c(41664),i=c.n(h),j=c(11163),k=c(94184),l=c.n(k),m=function(a){var b=a.item,c=b.title,e=b.link,h=(0,j.useRouter)().pathname;return(0,d.jsx)(i(),{href:e,children:(0,d.jsx)("a",{className:l()(f().default,(0,g.Z)({},f().active,e===h)),children:c})})},n=c(82185),o=[{title:"Statistics",link:(0,n.A7)("statistics")},{title:"Users",link:(0,n.A7)("users")},{title:"Books",link:(0,n.A7)("books")},{title:"Authors",link:(0,n.A7)("authors")},{title:"Genres",link:(0,n.A7)("genres")},],p=function(){return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("nav",{className:f().navigation,children:o.map(function(a){return(0,d.jsx)(m,{item:a},a.title)})})})}},4872:function(a,b,c){"use strict";c.d(b,{o:function(){return g}});var d=c(85893),e=c(51305),f=c.n(e),g=function(a){var b=a.titles;return(0,d.jsx)("div",{className:f().head_table,children:b.map(function(a){return(0,d.jsx)("div",{className:f().item_head_table,children:a},a)})})}},63949:function(a,b,c){"use strict";c.d(b,{P:function(){return q}});var d=c(29815),e=c(85893),f=c(53356),g=c(14924),h=c(77567),i=c(85567),j=c.n(i),k=c(94184),l=c.n(k),m=c(11163),n=function(a){var b=a.characteristics,c=a.setIdUserDelete,d=a.deleteUsers,f=a.refetch,i=a.id,k=function(a){d(a),c(a),f()},n=(0,m.useRouter)(),o=n.push,p=n.pathname;return(0,e.jsxs)("div",{className:l()(j().item,(0,g.Z)({},j().item_admin,b.includes("true"))),children:[b.map(function(a,c){return"true"===a||"false"===a?(0,e.jsx)("div",{className:j().email,children:"true"===a?"Admin":"User"}):a.match(/null/)?(0,e.jsx)("div",{className:j().email,children:"Неизвестно"}):b.length-1===c?null:(0,e.jsx)("div",{className:j().email,children:a})}),(0,e.jsxs)("div",{className:j().buttons,children:[(0,e.jsx)("button",{onClick:function(){return o("".concat(p,"/edit/").concat(i))},children:(0,e.jsx)(h.P,{name:"MdModeEdit"})}),(0,e.jsx)("button",{onClick:function(){return k(i)},children:(0,e.jsx)(h.P,{name:"MdClose"})})]})]})},o=c(83057),p=c.n(o),q=function(a){var b=a.data,c=a.page,g=a.deleteUsers,h=a.refetch,i=a.title,j=a.setIdUserDelete,k=a.setPage,l=function(){k(c-1)},m=function(){k(c+1),h()};return(0,e.jsxs)(e.Fragment,{children:[0!==b.length?(0,e.jsx)("div",{className:p().container_items,children:b.map(function(a){return(0,e.jsx)(n,{characteristics:(0,d.Z)(a),setIdUserDelete:j,deleteUsers:g,refetch:h,id:a[a.length-1]},a[a.length-1])})}):(0,e.jsxs)("div",{className:p().error,children:[i," not found!"]}),(0,e.jsxs)("div",{className:p().buttons,children:[(0,e.jsx)(f.Z,{buttonStyle:1,onClick:l,disabled:1===c,children:"back"}),(0,e.jsx)(f.Z,{buttonStyle:2,onClick:m,disabled:b.length<10,children:"Next"})]})]})}},53356:function(a,b,c){"use strict";var d=c(14924),e=c(26042),f=c(69396),g=c(99534),h=c(85893),i=c(66037),j=c.n(i),k=c(94184),l=c.n(k),m=function(a){var b,c=a.children,i=a.buttonStyle,k=(0,g.Z)(a,["children","buttonStyle"]);return(0,h.jsx)("button",(0,f.Z)((0,e.Z)({},k),{className:l()(j().button,(b={},(0,d.Z)(b,j().button_style_1,1===i),(0,d.Z)(b,j().button_style_2,2===i),b)),children:c}))};b.Z=m},10209:function(a,b,c){"use strict";c.d(b,{X:function(){return g}});var d=c(85893),e=c(44271),f=c.n(e),g=function(a){var b=a.title;return(0,d.jsx)("h1",{className:f().heading,children:b})}},69892:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return B}});var d=c(85893),e=c(74713),f=c(828),g=c(49626),h=c(53356),i=c(10209),j=c(9158),k=c(59135),l=c(4872),m=c(63949),n=c(83096),o=c.n(n),p=c(47568),q=c(34051),r=c.n(q),s=c(82185),t=c(11163),u=c(67294),v=c(4841),w=c(9317),x=function(){var a,b=function(a){h(a.target.value)},c=(0,t.useRouter)().push,d=(0,u.useState)(""),e=d[0],h=d[1],i=(0,u.useState)(""),j=i[0],k=i[1],l=(0,u.useState)(1),m=l[0],n=l[1],o=(0,v.N)(e,1e3),q=(0,f.Z)((0,g.bz)(),1),x=q[0],y=(0,g.ks)({search:o,id_ne:j,limit:10,page:m}),z=y.data,A=y.isLoading,B=y.refetch,C=(a=(0,p.Z)(r().mark(function a(){var b;return r().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:x(b={avatar:"",BooksWritten:[],country:"",DateOfBirth:"",id:(0,w.N)(),nameAuthor:""}).then(function(){return c((0,s.A7)("authors/edit/".concat(b.id)))});case 2:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});return{data:z,isLoading:A,handleSearch:b,refetch:B,setIdUserDelete:k,searchTerm:e,setPage:n,page:m,createAuthor:C}},y=function(){var a,b,c=x(),e=c.data,n=c.searchTerm,p=c.isLoading,q=c.handleSearch,r=c.refetch,s=c.setIdUserDelete,t=c.setPage,u=c.page,v=c.createAuthor,w=(0,f.Z)((0,g.Em)(),1),y=w[0];return(0,d.jsxs)("div",{className:o().admin_users,children:[(0,d.jsx)(i.X,{title:"Authors"}),(0,d.jsxs)("div",{className:o().admin_head,children:[(0,d.jsx)("div",{className:o().search,children:(0,d.jsx)(j.V,{handleSearch:q,value:n})}),(0,d.jsx)("div",{className:o().add_new,children:(0,d.jsx)(h.Z,{buttonStyle:2,onClick:function(){return v()},children:"Add genre"})})]}),(0,d.jsxs)("div",{className:o().table,children:[(0,d.jsx)(l.o,{titles:["Author","Country","Born","Actions"]}),p?(0,d.jsx)(k.S,{count:5,height:35}):(0,d.jsx)(m.P,{data:e?(b=[],(a=e).map(function(a){return b.push([a.nameAuthor,a.country,a.DateOfBirth,a.id,])}),b):[],deleteUsers:y,refetch:r,setIdUserDelete:s,title:"Authors",setPage:t,page:u})]})]})},z=function(){return(0,d.jsxs)("div",{children:[(0,d.jsx)(e.w,{}),(0,d.jsx)(y,{})]})},A=function(){return(0,d.jsx)(z,{})};A.isOnlyAdmin=!0;var B=A},83096:function(a){a.exports={admin_users:"AdminAuthors_admin_users__snrwg",admin_head:"AdminAuthors_admin_head__YQmRa",search:"AdminAuthors_search__jY0_7",add_new:"AdminAuthors_add_new__V1rxR",table:"AdminAuthors_table___XRcn"}},7085:function(a){a.exports={layout:"AdminNavigation_layout___co16",center:"AdminNavigation_center__wJaOr",navigation:"AdminNavigation_navigation__N43o7",default:"AdminNavigation_default__cdvbW",active:"AdminNavigation_active__Q9rKs"}},51305:function(a){a.exports={layout:"HeadTableUsers_layout__6Jveq",center:"HeadTableUsers_center__v6dko",head_table:"HeadTableUsers_head_table__osTGe",item_head_table:"HeadTableUsers_item_head_table__Jqavm"}},85567:function(a){a.exports={layout:"TableItem_layout__ctr_5",center:"TableItem_center__k44dm",item:"TableItem_item__e_bhQ",email:"TableItem_email__xT9_g",isAdmin:"TableItem_isAdmin__9DDgR",buttons:"TableItem_buttons__mEUAp",item_admin:"TableItem_item_admin__dhzYR"}},83057:function(a){a.exports={layout:"TableUsers_layout__n63wM",center:"TableUsers_center__m5Zmb",container_items:"TableUsers_container_items__8lkFN",show:"TableUsers_show__fIxT1",error:"TableUsers_error__Qp94f",buttons:"TableUsers_buttons__307Ex"}},66037:function(a){a.exports={layout:"Button_layout__oyXrp",center:"Button_center__O6fnb",button:"Button_button__9CL5_",button_style_1:"Button_button_style_1__tPBTc",button_style_2:"Button_button_style_2__jlRpp"}},44271:function(a){a.exports={layout:"Header_layout__Ts6Zb",center:"Header_center__0lhK_",heading:"Header_heading__ec6KN",subtitle:"Header_subtitle__8dujB"}},20943:function(a,b,c){"use strict";function d(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}c.d(b,{Z:function(){return d}})},13375:function(a,b,c){"use strict";function d(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}c.d(b,{Z:function(){return d}})},99534:function(a,b,c){"use strict";function d(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}c.d(b,{Z:function(){return d}})},828:function(a,b,c){"use strict";c.d(b,{Z:function(){return f}});var d=c(13375),e=c(91566);function f(a,b){return function(a){if(Array.isArray(a))return a}(a)||(0,d.Z)(a,b)||(0,e.Z)(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},29815:function(a,b,c){"use strict";c.d(b,{Z:function(){return g}});var d=c(20943),e=c(13375),f=c(91566);function g(a){return function(a){if(Array.isArray(a))return(0,d.Z)(a)}(a)||(0,e.Z)(a)||(0,f.Z)(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},91566:function(a,b,c){"use strict";c.d(b,{Z:function(){return e}});var d=c(20943);function e(a,b){if(a){if("string"==typeof a)return(0,d.Z)(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return(0,d.Z)(a,b)}}}},function(a){a.O(0,[774,888,179],function(){var b;return a(a.s=99063)}),_N_E=a.O()}])